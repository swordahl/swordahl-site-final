:root{
--shop-x:14%; --shop-y:22%;
--lore-x:50%; --lore-y:26%;
--music-x:72%; --music-y:18%;
}

/* ================= GLOBAL ================= */

html,body{
  height:100%;
  margin:0;
  background:#000;
}

/* Desktop cursor only */
@media (pointer:fine){
  html,body{
    cursor:url('assets/cursor.png') 32 4, auto;
  }
}

/* ================= LANDING ================= */

.backdrop{
  position:fixed;
  inset:0;
  background:url(assets/landing.png) center/cover no-repeat;
  filter:blur(26px) brightness(.9);
  transform:scale(1.05);
}

.stage{
  position:fixed;
  inset:0;
  display:grid;
  place-items:center;
}

.art{
  width:100vw;
  height:100vh;
  object-fit:contain;
}

/* Mobile landing full fill */
@media (max-width:768px){
  .art{
    object-fit:cover;
  }
}

.label{
  position:absolute;
  transform:translate(-50%,-50%);
}

.label img{
  width:14vw;
  max-width:260px;
  min-width:120px;
  filter:drop-shadow(0 0 8px rgba(160,90,255,.55));
  transition:.18s ease;
  opacity:.98;
}

/* Subtle hover */
@media (pointer:fine){
  .label:hover img{
    transform:scale(1.04);
    filter:drop-shadow(0 0 14px rgba(180,120,255,.8));
  }
}

.label-shop{left:var(--shop-x);top:var(--shop-y);}
.label-lore{left:var(--lore-x);top:var(--lore-y);}
.label-music{left:var(--music-x);top:var(--music-y);}

.zone{position:absolute;background:transparent;}
.zone-shop{left:2%;top:28%;width:28%;height:62%;}
.zone-lore{left:28%;top:20%;width:38%;height:78%;}
.zone-music{left:66%;top:20%;width:32%;height:78%;}

/* ================= BACK BUTTON ================= */

.back-btn{
  position:fixed;
  left:18px;
  top:16px;
  z-index:99999;
  padding:10px 14px;
  background:#cfd2d8;
  border:2px solid #ffffff;
  box-shadow:0 0 0 2px #9aa0aa, 0 0 12px rgba(200,220,255,.35);
  color:#111;
  text-decoration:none;
  font-weight:700;
  font-family:monospace;
}

/* ================= MUSIC ================= */

.music-stage{
  position:fixed;
  inset:0;
  display:flex;
  justify-content:center;
  align-items:center;
}

.music-wrap{
  position:relative;
  width:100vw;
  height:100vh;
}

.music-art{
  position:absolute;
  inset:0;
  width:100%;
  height:100%;
  object-fit:contain;
  display:block;
  z-index:1;
}

.play-btn{
  position:absolute;
  transform:translate(-50%,-50%);
  width:4vw;
  height:4vw;
  min-width:32px;
  min-height:32px;
  border-radius:14px;
  display:grid;
  place-items:center;
  background:rgba(0,0,0,.18);
  border:1px solid rgba(255,255,255,.10);
  z-index:10;
}

.play-btn img{
  width:50%;
  height:50%;
  image-rendering:pixelated;
}

.pb1{ left:34.8%; top:22.6%; }
.pb2{ left:74.4%; top:29.9%; }
.pb3{ left:33.3%; top:38.2%; }
.pb4{ left:68.9%; top:43.0%; }
.pb5{ left:62.2%; top:53.2%; }
.pb6{ left:40.1%; top:55.3%; }
.pb7{ left:52.7%; top:58.2%; }

/* Rune halo */
.play-btn::after{
  content:"ᚠᚢᚦᚨᚱᚲᚷ";
  position:absolute;
  inset:-10px;
  font-size:12px;
  animation:runeHalo 2.8s linear infinite;
  pointer-events:none;
}

@keyframes runeHalo{
  0%{ transform:rotate(0deg); }
  100%{ transform:rotate(360deg); }
}

/* Rune spill layer */
#rune-layer{
  position:absolute;
  inset:0;
  pointer-events:none;
  z-index:20;
}

.rune{
  position:absolute;
  font-size:18px;
  animation:runeFloat var(--dur) ease-out forwards;
}

@keyframes runeFloat{
  0%{ transform:translate(0,0); opacity:1; }
  100%{ transform:translate(var(--dx),var(--dy)); opacity:0; }
}

/* Popup */
.track-popup{
  position:fixed;
  bottom:30px;
  left:50%;
  transform:translateX(-50%);
  width:90%;
  max-width:420px;
  background:rgba(0,0,0,.85);
  padding:14px;
  border:1px solid #8be9ff;
  z-index:999999;
  opacity:0;
  transition:.3s;
}

.track-popup.show{ opacity:1; }

.track-popup .bar{
  height:4px;
  background:#222;
  margin-top:6px;
}

.track-popup .bar i{
  display:block;
  height:100%;
  width:0%;
  background:#8be9ff;
}

/* ================= LORE ================= */

.lore-stage{
  position:fixed;
  inset:0;
}

.lore-art{
  position:absolute;
  inset:0;
  width:100%;
  height:100%;
  object-fit:contain;
  z-index:1;
}

/* Desktop two-page scroll */
@media (min-width:769px){
  .lore-page{
    position:absolute;
    top:18%;
    width:28%;
    height:60%;
    overflow-y:auto;
    padding:20px;
    color:#fff;
    z-index:2;
  }
  .lore-left{ left:21%; }
  .lore-right{ left:51%; }
}

/* Mobile lore */
@media (max-width:768px){
  .lore-art{
    position:relative;
    height:40vh;
  }
  .lore-page{
    position:relative;
    width:100%;
    height:60vh;
    overflow-y:auto;
    padding:20px;
    color:#fff;
    background:#000;
  }
}
