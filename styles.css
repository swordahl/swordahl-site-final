:root{
  --shop-x:14%; --shop-y:22%;
  --lore-x:50%; --lore-y:26%;
  --music-x:72%; --music-y:18%;
}

/* ===== GLOBAL ===== */

html,body{
  height:100%;
  margin:0;
  background:#000;
  overflow:hidden;
}

/* ===== DESKTOP CURSOR ===== */
/* Only apply custom cursor on devices that support hover */

@media (hover:hover) and (pointer:fine){
  *{
    cursor:url("assets/cursors/cursor_0.png") 26 1, auto;
  }
}

/* ===== BACK BUTTON ===== */

.back-btn{
  position:fixed;
  left:18px;
  top:16px;
  z-index:99999;
  padding:10px 14px;
  background:#cfd2d8;
  border:2px solid #fff;
  box-shadow:0 0 0 2px #9aa0aa,0 0 14px rgba(200,220,255,.35);
  font-family:monospace;
  font-weight:700;
  text-decoration:none;
  color:#111;
}

/* ===== MUSIC PAGE ===== */

.music-stage{
  position:fixed;
  inset:0;
  display:grid;
  place-items:center;
}

.music-wrap{
  position:relative;
  width:100vw;
  height:100vh;
}

.music-art{
  position:absolute;
  inset:0;
  width:100%;
  height:100%;
  object-fit:contain;
}

/* ===== PLAY BUTTONS ===== */

.play-btn{
  position:absolute;
  width:46px;
  height:46px;
  transform:translate(-50%,-50%);
  border-radius:14px;
  display:grid;
  place-items:center;
  background:rgba(0,0,0,.25);
  border:1px solid rgba(255,255,255,.18);
  box-shadow:0 8px 26px rgba(0,0,0,.4);
}

.play-btn img{
  width:22px;
  height:22px;
  image-rendering:pixelated;
  filter:drop-shadow(0 0 10px rgba(160,90,255,.9));
}

/* STRONG VISIBLE HALO */
.play-btn::after{
  content:"ᚠᚢᚦᚨᚱᚲᚷᚹᚺᚾᛁᛃ";
  position:absolute;
  inset:-14px;
  font-size:13px;
  letter-spacing:4px;
  text-align:center;
  color:rgba(255,255,255,.95);
  text-shadow:
    0 0 10px #8be9ff,
    0 0 22px #a78bfa,
    0 0 34px #8be9ff;
  animation:runeHalo 4s linear infinite;
  pointer-events:none;
}

@keyframes runeHalo{
  0%{transform:rotate(0deg);}
  100%{transform:rotate(360deg);}
}

/* BUTTON POSITIONS */
.pb1{left:34.822%; top:22.644%;}
.pb2{left:74.486%; top:29.925%;}
.pb3{left:33.310%; top:38.220%;}
.pb4{left:68.907%; top:43.026%;}
.pb5{left:62.279%; top:53.231%;}
.pb6{left:40.117%; top:55.368%;}
.pb7{left:52.741%; top:58.222%;}

/* ===== RUNE PARTICLES ===== */

#rune-layer{
  position:absolute;
  inset:0;
  pointer-events:none;
  overflow:hidden;
}

.rune{
  position:absolute;
  font-size:18px;
  opacity:0;
  transform:translate(-50%,-50%);
  animation:runeFloat var(--dur) ease-out forwards;
}

@keyframes runeFloat{
  0%{opacity:0;}
  15%{opacity:.9;}
  100%{
    opacity:0;
    transform:translate(var(--dx),var(--dy));
  }
}

/* ===== TRACK POPUP ===== */

.track-popup{
  position:fixed;
  left:12vw;
  top:16vh;
  z-index:99999;
  max-width:320px;
  padding:12px;
  background:rgba(10,10,12,.85);
  border:1px solid rgba(255,255,255,.25);
  border-radius:14px;
  box-shadow:0 0 30px rgba(160,90,255,.4);
  color:#fff;
  font-family:monospace;
  display:none;
}

.track-popup.show{display:block;}

.track-popup .label{
  font-size:11px;
  opacity:.75;
  margin-bottom:6px;
}

.track-popup .bar{
  height:6px;
  border-radius:999px;
  background:rgba(255,255,255,.15);
  overflow:hidden;
  margin-top:8px;
}

.track-popup .bar > i{
  display:block;
  height:100%;
  width:0%;
  background:#8be9ff;
  box-shadow:0 0 14px #8be9ff;
}

/* ===== LORE PAGE ===== */

.lore-stage{
  position:relative;
  width:100vw;
  height:100vh;
  overflow:hidden;
}

.lore-art{
  position:absolute;
  inset:0;
  width:100%;
  height:100%;
  object-fit:contain;
}

.lore-page{
  position:absolute;
  top:16%;
  width:34%;
  height:64%;
  padding:16px;
  overflow:auto;
  color:#fff;
  font-family:monospace;
  font-size:14px;
  scrollbar-width:none;
}

.lore-page::-webkit-scrollbar{display:none;}

.lore-left{left:12.5%;}
.lore-right{right:12.5%;}

/* ===== MOBILE RULES ===== */

@media (max-width:768px){

  html,body{
    overflow:hidden;
  }

  .play-btn{
    width:32px;
    height:32px;
  }

  .play-btn img{
    width:16px;
    height:16px;
  }

  /* On mobile lore stacks + scrolls */
  .lore-page{
    position:relative;
    width:100%;
    height:auto;
    top:auto;
    left:auto;
    right:auto;
  }

}
