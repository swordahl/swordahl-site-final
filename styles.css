:root{
--shop-x:14%; --shop-y:22%;
--lore-x:50%; --lore-y:26%;
--music-x:72%; --music-y:18%;
}

html,body{cursor:url('assets/cursor.png') 12 12, auto;height:100%;margin:0;background:#000;overflow:hidden;}
.backdrop{position:fixed;inset:0;background:url(assets/landing.png) center/cover no-repeat;
filter:blur(26px) brightness(.9);transform:scale(1.05);}

.stage{position:fixed;inset:0;display:grid;place-items:center;}
.art{width:100vw;height:100vh;object-fit:contain;}

.label{position:absolute;transform:translate(-50%,-50%);}
.label img{
  width:14vw;
  max-width:260px;
  min-width:120px;
  filter:drop-shadow(0 0 8px rgba(160,90,255,.55));
  transition: transform .18s ease, filter .18s ease, opacity .18s ease;
  opacity:.98;
}

/* base sizes */
.label-shop img{ transform:scale(0.67); }
.label-lore img{ transform:scale(0.67); }
.label-music img{ transform:scale(2.00); }

/* subtle hover — shop & lore barely move */
.label-shop:hover img,
.label-shop:focus-visible img{
  transform:scale(0.70);
  filter:drop-shadow(0 0 10px rgba(255,255,255,.20)) drop-shadow(0 0 22px rgba(160,90,255,.65));
}
.label-lore:hover img,
.label-lore:focus-visible img{
  transform:scale(0.70);
  filter:drop-shadow(0 0 10px rgba(255,255,255,.20)) drop-shadow(0 0 22px rgba(160,90,255,.65));
}

/* music hover — also subtle relative to its 2x base */
.label-music:hover img,
.label-music:focus-visible img{
  transform:scale(2.06);
  filter:drop-shadow(0 0 12px rgba(255,255,255,.25)) drop-shadow(0 0 30px rgba(160,90,255,.75));
  opacity:1;
}

.label-shop{left:var(--shop-x);top:var(--shop-y);}
.label-lore{left:var(--lore-x);top:var(--lore-y);}
.label-music{left:var(--music-x);top:var(--music-y);}

.zone{position:absolute;background:transparent;}
.zone-shop{left:2%;top:28%;width:28%;height:62%;}
.zone-lore{left:28%;top:20%;width:38%;height:78%;}
.zone-music{left:66%;top:20%;width:32%;height:78%;}

.runes{position:absolute;inset:-18px;opacity:0;transition:opacity .18s ease;}
.label:hover .runes, .label:focus-visible .runes{opacity:.85;}
.runes::after{
  content:"ᚠᚢᚦᚨ ᚱᚲ ᛁᛃ";
  color:rgba(255,255,255,.75);
  text-shadow:0 0 12px rgba(160,90,255,.8), 0 0 26px rgba(90,220,255,.35);
  font-size:14px;
}


/* Cursor rune spill */
.rune-spill{
  position:fixed;
  left:0; top:0;
  pointer-events:none;
  z-index:99999;
}
.rune-particle{
  position:absolute;
  font-size:14px;
  color:rgba(255,255,255,.85);
  text-shadow:0 0 10px rgba(160,90,255,.85), 0 0 22px rgba(90,220,255,.35);
  will-change: transform, opacity;
  animation: runeDrift 700ms ease-out forwards;
  user-select:none;
}
@keyframes runeDrift{
  0%{ transform: translate(0,0) scale(.95) rotate(0deg); opacity:0; }
  15%{ opacity:1; }
  100%{ transform: translate(var(--dx), var(--dy)) scale(1.05) rotate(var(--rot)); opacity:0; }
}


/* FORCE CUSTOM CURSOR */
html, body, a, a:hover, a:active, a:focus, .label, .zone {
  cursor:url('assets/cursor.png') 12 12, auto !important;
}


/* ===== MUSIC PAGE ===== */
.music-stage{position:fixed; inset:0; display:grid; place-items:center;}
.music-art{width:100vw; height:100vh; object-fit:contain; display:block;}
/* Pixel / rune style back button */
.back-btn{
  position:fixed;
  left:18px;
  top:16px;
  z-index:99999;

  padding:10px 14px;

  background:#cfd2d8;
  border:2px solid #ffffff;

  box-shadow:
    0 0 0 2px #9aa0aa,
    0 0 12px rgba(200,220,255,.35);

  color:#111;
  text-decoration:none;
  font-weight:700;
  font-family: monospace;
  letter-spacing:1px;

  image-rendering: pixelated;
}

.back-btn:hover{
  filter: brightness(1.08);
  box-shadow:
    0 0 0 2px #b8bec8,
    0 0 16px rgba(220,240,255,.5);
}

.play-btn{
  position:absolute; width:44px; height:44px; transform: translate(-50%,-50%); border-radius:14px;
  display:grid; place-items:center;
  background:rgba(0,0,0,.18);
  border:1px solid rgba(255,255,255,.10);
  box-shadow: 0 8px 22px rgba(0,0,0,.25);
}
.play-btn img{
  width:22px; height:22px; image-rendering: pixelated;
  transform: translateX(1px); opacity:.95;
  filter: drop-shadow(0 0 10px rgba(160,90,255,.65));
}
.play-btn:hover{background:rgba(0,0,0,.26); border-color: rgba(255,255,255,.22);}
.play-btn:hover img{filter: drop-shadow(0 0 14px rgba(255,255,255,.25)) drop-shadow(0 0 26px rgba(160,90,255,.75));}

/* Play button positions (from your marked screenshot) */
.pb1{left:34.822%; top:22.644%;}
.pb2{left:74.486%; top:29.925%;}
.pb3{left:33.310%; top:38.220%;}
.pb4{left:68.907%; top:43.026%;}
.pb5{left:62.279%; top:53.231%;}
.pb6{left:40.117%; top:55.368%;}
.pb7{left:52.741%; top:58.222%;}



/* ===== RUNE PARTICLES ===== */
#rune-layer{
  position:absolute; inset:0;
  pointer-events:none;
  overflow:hidden;
}
.rune{
  position:absolute;
  font-size:18px;
  opacity:0;
  filter: drop-shadow(0 0 10px rgba(140,90,255,.75)) drop-shadow(0 0 22px rgba(0,255,255,.30));
  animation: runeFloat var(--dur) ease-out forwards;
  transform: translate(-50%,-50%);
  will-change: transform, opacity;
}
@keyframes runeFloat{
  0%{ opacity:0; transform: translate(-50%,-50%) translate(0,0) scale(0.9); }
  12%{ opacity:.75; }
  100%{
    opacity:0;
    transform: translate(-50%,-50%) translate(var(--dx), var(--dy)) scale(1.08);
  }
}


/* === Runic aura around play buttons === */
.play-btn::after{
  content:"ᚠᚢᚦᚨᚱᚲᚷ";
  position:absolute;
  inset:-10px;
  font-size:12px;
  line-height: 1.2;
  word-break: break-word;
  overflow-wrap: anywhere;
  letter-spacing:3px;
  opacity:.60;

  color:rgba(255,255,255,.92);
  text-shadow:
    0 0 8px rgba(160,90,255,.95),
    0 0 18px rgba(90,220,255,.50);

  animation: runeHalo 2.8s linear infinite;
  pointer-events:none;
}

@keyframes runeHalo{
  0%   { transform: rotate(0deg) scale(.95); opacity:.50; }
  50%  { transform: rotate(180deg) scale(1.06); opacity:.85; }
  100% { transform: rotate(360deg) scale(.95); opacity:.50; }
}

/* Active (currently playing) gets a bit stronger */
.play-btn.is-playing::after{
  opacity:.90;
  text-shadow:
    0 0 10px rgba(255,255,255,.35),
    0 0 14px rgba(160,90,255,1.0),
    0 0 26px rgba(90,220,255,.70);
}


/* ===== Track name popup (quest inventory vibe) ===== */
.track-popup{
  position:fixed;
  left: 12vw;
  top: 16vh;
  transform: translateX(0);
  z-index:99999;

  max-width:min(340px, calc(100vw - 36px));
  padding:10px 12px;

  background: rgba(10,10,12,.72);
  border: 1px solid rgba(255,255,255,.22);
  border-radius: 14px;

  box-shadow:
    0 10px 26px rgba(0,0,0,.45),
    inset 0 0 0 1px rgba(160,90,255,.20);

  color: rgba(255,255,255,.92);
  font-family: monospace;
  letter-spacing: .5px;
  font-size: 12px;

  backdrop-filter: blur(10px);
  display:none;
}
.track-popup.show{ display:block; }

.track-popup .label{
  opacity:.7;
  font-size:11px;
  margin-bottom:6px;
}
.track-popup .title{margin:0 0 4px 0; line-height:1.1;}
.track-popup .bar{
  margin-top:8px;
  height:6px;
  border-radius:999px;
  background: rgba(255,255,255,.10);
  overflow:hidden;
}
.track-popup .bar > i{
  display:block;
  height:100%;
  width:0%;
  background: rgba(220,240,255,.65);
  box-shadow: 0 0 10px rgba(200,220,255,.45);
}


/* CURSOR HOTSPOT START */
*{
  cursor: url("assets/cursors/cursor_0.png") 52 1, auto;
}

a, button, .play-btn, .back-btn{
  cursor: url("assets/cursors/cursor_0.png") 52 1, pointer !important;
}
/* CURSOR HOTSPOT END */


/* LORE MODULE START */
.lore-body{ background:#000; margin:0; }
.lore-stage{ position:relative; width:100vw; height:100vh; overflow:hidden; }
.lore-art{ position:absolute; inset:0; width:100%; height:100%; object-fit:contain; image-rendering:auto; }

/* Place text zones over the book pages (tuned for your image; adjust later if needed) */
.lore-page{
  position:absolute;
  top: 16%;
  width: 34%;
  height: 64%;
  padding: 16px 18px;
  overflow:auto;
  color:#fff;
  font-family: monospace;
  font-size: 14px;
  line-height: 1.45;
  text-shadow: 0 0 10px rgba(160,90,255,.35);
  scrollbar-width: none;
}
.lore-page::-webkit-scrollbar{ width:0; height:0; }
.lore-left{ left: 12.5%; }
.lore-right{ right: 12.5%; }

.lore-block{ margin: 10px 0; }
.lore-text{ white-space: pre-wrap; }
.lore-caption{ opacity:.85; font-size:12px; margin-top:6px; }

.lore-thumb{
  width:100%;
  border-radius:10px;
  border:1px solid rgba(255,255,255,.18);
  box-shadow: 0 0 18px rgba(120,90,255,.22);
  image-rendering:auto;
  cursor:pointer;
}
.lore-video-tile{
  width:100%;
  padding: 14px 12px;
  border-radius: 12px;
  border: 2px solid rgba(255,255,255,.22);
  background: rgba(20,20,30,.75);
  color:#fff;
  letter-spacing:2px;
  box-shadow: 0 0 18px rgba(120,90,255,.25);
}

/* Visible arrows on book */
.lore-arrow{
  position:absolute;
  bottom: 8.5%;
  width: 60px;
  height: 44px;
  border-radius: 10px;
  border: 2px solid rgba(255,255,255,.25);
  background: rgba(10,10,12,.55);
  color:#fff;
  font-size: 28px;
  line-height: 1;
  display:flex;
  align-items:center;
  justify-content:center;
  box-shadow: 0 0 18px rgba(120,90,255,.25);
  text-shadow: 0 0 12px rgba(160,90,255,.6);
  cursor:pointer;
}
.lore-prev{ left: 12.8%; }
.lore-next{ right: 12.8%; }
.lore-arrow:hover{ transform: scale(1.04); }

/* Page number bottom center */
.lore-pg{
  position:absolute;
  bottom: 9%;
  left: 50%;
  transform: translateX(-50%);
  font-family: monospace;
  font-size: 12px;
  letter-spacing: 2px;
  color: rgba(255,255,255,.9);
  text-shadow: 0 0 10px rgba(160,90,255,.35);
  padding: 6px 10px;
  border-radius: 10px;
  background: rgba(0,0,0,.25);
  border: 1px solid rgba(255,255,255,.12);
}

/* Modal */
.lore-modal{ position:fixed; inset:0; display:none; z-index:99999; }
.lore-modal.open{ display:block; }
.lore-modal-backdrop{ position:absolute; inset:0; background: rgba(0,0,0,.75); }
.lore-modal-content{
  position:absolute;
  top:50%;
  left:50%;
  transform:translate(-50%,-50%);
  width:min(900px, 92vw);
  max-height: 88vh;
  overflow:auto;
  padding: 14px;
  border-radius: 16px;
  background: rgba(10,10,12,.92);
  border: 1px solid rgba(255,255,255,.18);
  box-shadow: 0 0 30px rgba(120,90,255,.25);
}
.lore-modal-media{ width:100%; border-radius: 12px; }
.lore-modal-caption{ margin-top:10px; opacity:.9; }

/* Simple pixel button utility */
.pixel-btn{
  image-rendering: pixelated;
  font-family: monospace;
  letter-spacing: 2px;
}
.lore-modal-close{
  position:absolute;
  top: 10px;
  right: 10px;
  width: 42px;
  height: 34px;
  border-radius: 10px;
  border: 2px solid rgba(255,255,255,.22);
  background: rgba(20,20,30,.75);
  color:#fff;
  cursor:pointer;
}
/* LORE MODULE END */
/* ==============================
   LORE MOBILE OVERRIDE
================================ */
@media (max-width: 768px){

  .lore-stage{
    height:100vh;
    overflow:auto;
  }

  .lore-art{
    position:relative;
    width:100%;
    height:auto;
    max-height:50vh;
    object-fit:contain;
  }

  .lore-page{
    position:relative;
    top:auto;
    left:auto;
    right:auto;
    width:100%;
    height:auto;
    padding:24px;
  }

  .lore-left,
  .lore-right{
    width:100%;
  }

  .lore-block{
    font-size:16px;
    line-height:1.6;
  }

  .lore-arrow{
    position:fixed;
    bottom:20px;
  }

  .lore-prev{
    left:20px;
  }

  .lore-next{
    right:20px;
  }

  .lore-pg{
    position:fixed;
    bottom:20px;
    left:50%;
    transform:translateX(-50%);
  }

}
/* ============================= */
/* ===== MOBILE FIX PACK ====== */
/* ============================= */

@media (max-width: 768px){

  /* ===== LANDING PAGE ===== */
  .art{
    width:100vw;
    height:100vh;
    object-fit:cover; /* stretch vertically */
  }

  .backdrop{
    filter:blur(18px) brightness(.9);
    transform:scale(1.15);
  }

  /* ===== MUSIC PAGE ===== */
  .music-art{
    width:100vw;
    height:100vh;
    object-fit:contain; /* keep rectangle */
  }

  .play-btn{
    width:34px;
    height:34px;
    border-radius:10px;
  }

  .play-btn img{
    width:16px;
    height:16px;
  }

  /* ===== LORE PAGE ===== */
  .lore-page{
    top: 18%;
    width: 42%;
    height: 62%;
    font-size: 13px;
    padding: 14px;
  }

  .lore-left{ left: 6%; }
  .lore-right{ right: 6%; }

  .lore-arrow{
    width:48px;
    height:38px;
    font-size:22px;
    bottom: 6%;
  }

  .lore-pg{
    bottom: 6.5%;
  }

}
